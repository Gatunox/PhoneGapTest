<!DOCTYPE HTML>
<html>
  <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Hello World</title>
    </head>
    <body>
        <div class="app">
            <h1>PhoneGap</h1>
            <div id="deviceready" class="blink">
                <p class="event listening">Connecting to Device</p>
                <p class="event received">Device is Ready</p>
            </div>
        </div>
        <script type="text/javascript" src="phonegap.js"></script>
        <script type="text/javascript" src="js/contacts.js"></script>
        <script type="text/javascript">
        	//contact.initialize();
        	// onSuccess: Get a snapshot of the current contacts
			
			// create a new contact object
			var contact = navigator.contacts.create();
			contact.displayName = "Plumber";
			contact.nickname = "Plumber";            // specify both to support all devices
			
			// populate some fields
			var name = new ContactName();
			name.givenName = "Jane";
			name.familyName = "Doe";
			contact.name = name;
			
			// save to device
			contact.save(onSuccess,onError);
			
            var options = new ContactFindOptions();
            options.filter = "d";
            var fields = ["name"];
            navigator.contacts.find(fields, onSuccessAdd, onError, options);
            
            function onSuccessAdd(contacts) {
                for (var i = 0; i < contacts.length; i++) {
                	alert(contacts[i].displayName);
                    console.log("Display Name = " + contacts[i].displayName);
                }
            }
        	
        	function onSuccess(contact) {
			    alert("Save Success");
			};
			
			function onError(contactError) {
			    alert("Error = " + contactError.code);
			};
            
        </script>
    </body>
</html>
	